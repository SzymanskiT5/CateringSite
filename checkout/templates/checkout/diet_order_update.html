{% extends "catering/base.html" %}
{% load crispy_forms_filters %}
{% load static %}



{% block head %}

    <title>Place Autocomplete Address Form</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:400,500"
            rel="stylesheet"
    />

    <link rel="stylesheet" type="text/css" href="{% static "checkout/css/maps.css" %}"/>
    <script src="{% static "checkout/js/maps.js" %}"></script>
    <script
            src="https://maps.googleapis.com/maps/api/js?key=&callback=initAutocomplete&libraries=places&v=weekly"
            async
    ></script>
{% endblock %}
{% block content %}


    <form id="address-form" action="" method="post" autocomplete="off">
        {% csrf_token %}
        {{ form|crispy }}


        {#    <form id="address-form" action="" method="get" autocomplete="off">#}
        <p class="title">Enter your data</p>
        <p class="note"><em>* = required field</em></p>
        <label class="full-field">
            <!-- Avoid the word "address" in id, name, or label text to avoid browser autofill from conflicting with Place Autocomplete. Star or comment bug https://crbug.com/587466 to request Chromium to honor autocomplete="off" attribute. -->
            <span class="form-label">Deliver to*</span>

            Street
            <input
                    value="{{ object.address }}"
                    id="ship-address"
                    name="ship-address"
                    required
                    autocomplete="off"
            />
        </label>
        <label class="full-field">
            <span class="form-label">Apartment, unit, suite, or floor #</span>
            <input value="{{ object.address_info }}" id="address_info" name="address_info"/>
        </label>
        <label class="full-field">
            <span class="form-label">City*</span>

            <input value="{{ object.locality }}" id="locality" name="locality" required/>
        </label>
        <label class="slim-field-left">
            <span class="form-label">State/Province*</span>
            <input value="{{ object.state }}" id="state" name="state" required/>
        </label>
        <label class="slim-field-right" for="postal_code">
            <span class="form-label">Postal code*</span>
            <input value="{{ object.post_code }}" id="post_code" name="post_code" required/>
        </label>
        <button type="submit" form="address-form" class="my-button">Save address</button>

    </form>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->

{% endblock %}